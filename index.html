<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ROLLS Game</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            background: #121212;
            color: white;
            margin: 0;
            padding: 16px;
            text-align: center;
        }
        
        .slot-machine {
            margin: 20px auto;
            width: 300px;
            perspective: 1000px;
        }
        
        .reels {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin: 30px 0;
        }
        
        .reel {
            width: 80px;
            height: 120px;
            position: relative;
            transform-style: preserve-3d;
            animation: spin 0.1s infinite linear;
        }
        
        .reel-face {
            position: absolute;
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 40px;
            backface-visibility: hidden;
            background: #1e1e1e;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0,0,0,0.5);
        }
        
        button {
            background: #FFD700;
            color: black;
            border: none;
            padding: 15px 30px;
            font-size: 18px;
            border-radius: 10px;
            cursor: pointer;
            font-weight: bold;
            margin: 10px;
        }
        
        @keyframes spin {
            0% { transform: rotateX(0deg); }
            100% { transform: rotateX(360deg); }
        }
    </style>
</head>
<body>
    <h1>üé∞ ROLLS</h1>
    
    <div class="slot-machine">
        <div class="reels" id="reels">
            <!-- –ë–∞—Ä–∞–±–∞–Ω—ã –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã —á–µ—Ä–µ–∑ JS -->
        </div>
    </div>
    
    <button id="spinBtn">SPIN</button>
    <button id="connectBtn">Connect Wallet</button>

    <script>
        const symbols = ["üçí", "üçã", "üçä", "üçá", "üí∞", "üíé", "7Ô∏è‚É£"];
        const reelCount = 3;
        const spinDuration = 3000;
        
        // –°–æ–∑–¥–∞–µ–º –±–∞—Ä–∞–±–∞–Ω—ã
        function createReels() {
            const reelsContainer = document.getElementById('reels');
            
            for (let i = 0; i < reelCount; i++) {
                const reel = document.createElement('div');
                reel.className = 'reel';
                reel.id = reel${i+1};
                
                // –î–æ–±–∞–≤–ª—è–µ–º 10 —Å–∏–º–≤–æ–ª–æ–≤ –≤ –∫–∞–∂–¥—ã–π –±–∞—Ä–∞–±–∞–Ω
                for (let j = 0; j < 10; j++) {
                    const face = document.createElement('div');
                    face.className = 'reel-face';
                    face.style.transform = rotateX(${j * 36}deg) translateZ(100px);
                    face.textContent = symbols[Math.floor(Math.random() * symbols.length)];
                    reel.appendChild(face);
                }
                
                reelsContainer.appendChild(reel);
            }
        }
        
        // –ê–Ω–∏–º–∞—Ü–∏—è –≤—Ä–∞—â–µ–Ω–∏—è
        function spin() {
            const spinBtn = document.getElementById('spinBtn');
            spinBtn.disabled = true;
            
            // –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –≤—Å–µ –±–∞—Ä–∞–±–∞–Ω—ã –Ω–∞ —Å–ª—É—á–∞–π–Ω—ã—Ö —Å–∏–º–≤–æ–ª–∞—Ö
            for (let i = 1; i <= reelCount; i++) {
                const reel = document.getElementById(`reel${i}`);
                const randomStop = Math.floor(Math.random() * 10) * 36;
                const spins = 5; // –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ª–Ω—ã—Ö –æ–±–æ—Ä–æ—Ç–æ–≤
                
                reel.style.transition = transform ${spinDuration}ms cubic-bezier(0.1, 0.7, 0.1, 1);
                reel.style.transform = rotateX(${spins * 360 + randomStop}deg);
            }
            
            // –í–∫–ª—é—á–∞–µ–º –∫–Ω–æ–ø–∫—É –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∞–Ω–∏–º–∞—Ü–∏–∏
            setTimeout(() => {
                spinBtn.disabled = false;
                
                // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ Telegram –±–æ—Ç–∞
if (window.Telegram && Telegram.WebApp.sendData) {
                    const winSymbol = symbols[Math.floor(Math.random() * symbols.length)];
                    Telegram.WebApp.sendData(JSON.stringify({
                        prize: winSymbol,
                        action: "spin"
                    }));
                }
            }, spinDuration + 300);
        }
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        document.addEventListener('DOMContentLoaded', () => {
            createReels();
            
            document.getElementById('spinBtn').addEventListener('click', spin);
            
            if (window.Telegram) {
                Telegram.WebApp.ready();
                Telegram.WebApp.expand();
            }
        });
    </script>
</body>
</html>
